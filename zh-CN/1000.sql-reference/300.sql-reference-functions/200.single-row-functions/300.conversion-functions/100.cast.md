CAST 
=========================



声明 
-----------------------

```unknow
CAST(expr AS type)
```



说明 
-----------------------

将某种数据类型的表达式显式转换为另一种数据类型，即将 `expr` 字段值转换为 `type` 数据类型。

参数解释如下：

* `expr`：表示任何有效的 SQL 表达式。

  

* `AS`：用于分隔两个参数，在 `AS` 之前的是要处理的数据，在 `AS` 之后是要转换的数据类型。

  

* `type`：表示目标系统所提供的数据类型。可以是以下值其中的一个： 

  * `DATE`

    
  
  * `DATETIME`

    
  
  * `DECIMAL`

    
  
  * `SIGNED [INTEGER]`

    
  
  * `TIME`

    
  
  * `UNSIGNED [INTEGER]`

    
  

  




在使用 `CAST` 函数进行数据类型转换时，以下情况能够被接受：

* 两个表达式的数据类型完全相同

  

* 两个表达式可隐式转换

  

* 必须显式转换数据类型

  




如果试图进行不可能的转换，OceanBase 数据库将显示一条错误信息。

如果转换时没有指定数据类型的长度，则使用 OceanBase 数据库系统内部最大长度。例如 `VARCHAR` 是262,143字节，`NUMBER` 是 65 比特位的浮动精度。

`CAST()` 支持带符号和无符号的 64 比特值的运算。如果您正在使用数字操作符 (例如 `+`) 而其中一个操作数为无符号整数，则结果为无符号。您可以使用 `SIGNED` 和 `UNSIGNED` 对结果进行显式声明，将运算分别派给带符号或无符号的 64 比特位的整数。

如果任意一个操作数为一个浮点值，则结果为一个浮点值。

示例 
-----------------------

```javascript
obclient> SELECT CAST(123 AS TIME);
+-------------------+
| CAST(123 AS TIME) |
+-------------------+
| 00:01:23          |
+-------------------+
1 row in set (0.01 sec)

obclient> SELECT CAST(1-2 AS UNSIGNED), CAST(cast(1-2 AS UNSIGNED) AS SIGNED);
+-----------------------+---------------------------------------+
| CAST(1-2 AS UNSIGNED) | CAST(cast(1-2 AS UNSIGNED) AS SIGNED) |
+-----------------------+---------------------------------------+
|  18446744073709551615 |                                    -1 |
+-----------------------+---------------------------------------+
1 row in set (0.00 sec)

obclient> SELECT CAST(1 AS UNSIGNED) - 2.0;
+---------------------------+
| CAST(1 AS UNSIGNED) - 2.0 |
+---------------------------+
|                      -1.0 |
+---------------------------+
1 row in set (0.00 sec)

obclient> SELECT CAST(0 AS DATE);
+-----------------+
| CAST(0 AS DATE) |
+-----------------+
| 0000-00-00      |
+-----------------+
1 row in set (0.00 sec)
```


