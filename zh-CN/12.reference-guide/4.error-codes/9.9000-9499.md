9000 \~ 9499 
=================================

此范围表示备份恢复错误码及 STORAGE 3.0 错误码。

ERROR 9001 (HY000) : URI error 
---------------------------------------------------

* OceanBase 错误码：9001

  

* 错误原因：可能是由于备份恢复设置的目的端链接有误。

  

* 解决方式：检查备份恢复的相关配置，并进行修改。

  




ERROR 9002 (HY000) : OSS file MD5 error 
------------------------------------------------------------

* OceanBase 错误码：9002

  

* 错误原因：OSS 文件的数据校验有误，可能是 OSS 上面数据出现异常错误。

  

* 解决方式：联系 OSS 技术支持人员，排查具体原因。

  




ERROR 9003 (HY000) : OSS error 
---------------------------------------------------

* OceanBase错误码：9003

  

* 错误原因：OSS 遇到未知错误。

  

* 解决方式：联系 OSS 技术支持人员，排查具体原因。

  




ERROR 9004 (HY000) : Init MD5 fail 
-------------------------------------------------------

* OceanBase 错误码：9004

  

* 错误原因：OpenSSL 初始化 MD5 错误。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9005 (HY000) : Out of element 
--------------------------------------------------------

* OceanBase 错误码：9005

  

* 错误原因：超过分片的限制。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9006 (HY000) : Update MD5 fail 
---------------------------------------------------------

* OceanBase 错误码：9006

  

* 错误原因：更新 MD5 失败。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9007 (HY000) : Invalid OSS file length 
-----------------------------------------------------------------

* OceanBase 错误码：9007

  

* 错误原因：无效的 OSS 文件长度，可能是错误的 OSS 文件。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9010 (HY000) : OSS file MD5 not match 
----------------------------------------------------------------

* OceanBase 错误码：9010

  

* 错误原因：OSS 文件校验和不匹配，可能是 OSS 的数据异常或者备份恢复的程序 Bug。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9011 (HY000) : cannot find backup file 
-----------------------------------------------------------------

* OceanBase 错误码：9011

  

* 错误原因：无法找到备份文件，可能是指定的备份恢复的配置有误。

  

* 解决方式：检查备份恢复的相关配置，并进行修改。

  




ERROR 9012 (HY000) : Can not get data version from timestamp 
---------------------------------------------------------------------------------

* OceanBase 错误码：9012

  

* 错误原因：逻辑恢复的参数中没有传递 `data version`。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9013 (HY000) : Write OSS file error 
--------------------------------------------------------------

* OceanBase 错误码：9013

  

* 错误原因：写 OSS 文件出现异常错误，可能是 OSS 出现了未知问题。

  

* 解决方式：联系 OSS 技术支持人员，排查具体原因。

  




ERROR 9014 (HY000) : Another restore is in progress 
------------------------------------------------------------------------

* OceanBase 错误码：9014

  

* 错误原因：恢复的租户有同名的租户名存在。

  

* 解决方式：检查恢复租户的用户名是否有重复，如果有的话改用不重复的租户名。

  




ERROR 9016 (HY000) : ob cluster name not equal 
-------------------------------------------------------------------

* OceanBase错误码：9016

  

* 错误原因：逻辑备份的集群名和 URL 不一致。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9017 (HY000) : rs list invalid 
---------------------------------------------------------

* OceanBase 错误码：9017

  

* 错误原因：RS 列表无效，可能是指定的 RS 列表有误。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9018 (HY000) : agent has failed task 
---------------------------------------------------------------

* OceanBase 错误码：9018

  

* 错误原因：逻辑备份存在失败的任务。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9019 (HY000) : restore partition is compelete 
------------------------------------------------------------------------

* OceanBase错误码：9019

  

* 错误原因：已经恢复的 Partition 被重复调度恢复任务。

  

* 解决方式：无需处理。

  




ERROR 9020 (HY000 ) : restore partition twice 
------------------------------------------------------------------

* OceanBase 错误码：9020

  

* 错误原因：已经恢复的 Partition 被重复调度恢复任务。

  

* 解决方式：无需处理。

  




ERROR 9022 (HY000) : physical backup switch is on 
----------------------------------------------------------------------

* OceanBase 错误码：9022

  

* 错误原因：物理备份的时候，延迟删除表。

  

* 解决方式：无需处理，等物理备份完成后会自动删除。

  




ERROR 9023 (HY000) : cannot start log archive backup 
-------------------------------------------------------------------------

* OceanBase 错误码：9023

  

* 错误原因：日志备份期间无法重复开启日志备份。

  

* 解决方式：避免重复调度开启日志备份的命令。

  




ERROR 9024 (HY000) : log archive backup is already disabled 
--------------------------------------------------------------------------------

* OceanBase 错误码：9024

  

* 错误原因：STOP 阶段的日志备份不能重复关闭。

  

* 解决方式：避免重复关闭已经关闭的日志备份。

  




ERROR 9025 (HY000) : log archive backup info not exists 
----------------------------------------------------------------------------

* OceanBase 错误码：9025

  

* 错误原因：日志备份信息的文件不存在。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9026 (HY000) : backup destination is not valid 
-------------------------------------------------------------------------

* OceanBase 错误码：9026

  

* 错误原因：备份的目的端是无效的。

  

* 解决方式：检查备份的 `backup_dest` 是否合理，提供可用的 `backup_dest` 路径。

  




ERROR 9027 (HY000) : ob log archive interrupted 
--------------------------------------------------------------------

* OceanBase 错误码：9027

  

* 错误原因：日志备份断流。

  

* 解决方式：检查是否有大量写入导致日志备份来不及，如果没有，请联系 OceanBase 技术户支持人员协助排查。

  




ERROR 9028 (HY000) : ob log archive stat not match 
-----------------------------------------------------------------------

* OceanBase 错误码：9028

  

* 错误原因：日志备份的状态对不上。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9029 (HY000) : log archive is not running 
--------------------------------------------------------------------

* OceanBase 错误码：9029

  

* 错误原因：日志备份没有 Running，一般是执行停止备份的时候 OBServer 打印的错误。

  

* 解决方式：不需要人工介入，只是正常退出日志备份的报错日志。

  




ERROR 9030 (HY000) : log archive invalid round 
-------------------------------------------------------------------

* OceanBase 错误码：9030

  

* 错误原因：日志备份的 Round 信息不对。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9031 (HY000) : Cannot backup ob replica 
------------------------------------------------------------------

* OceanBase 错误码：9031

  

* 错误原因：该 Replica 正在迁移复制或者是日志副本，无法提供数据备份的能力。

  

* 解决方式：OceanBase 数据库会内部重试，不需要人工介入。

  




ERROR 9032 (HY000) : backup info not exists 
----------------------------------------------------------------

* OceanBase 错误码：9032

  

* 错误原因：备份信息不存在。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9033 (HY000) : Backup meta info stored in system dictionary does not match with current system status 
--------------------------------------------------------------------------------------------------------------------------------

* OceanBase 错误码：9033

  

* 错误原因：备份的状态不一致。

  

* 解决方式：

  * 如果是 OBServer 的日志备份报错，一般是启停日志备份的时候发生的，不需要人工介入。

    
  
  * 如果是 RootService 的日志，联系 OceanBase 技术支持人员，排查具体原因。

    
  

  




ERROR 9035 (HY000) : restore index failed 
--------------------------------------------------------------

* OceanBase 错误码：9035

  

* 错误原因：恢复完成后，重建索引失败。

  

* 解决方式：需要检查下恢复租户内部表锁索引状态为 `error` 的索引，然后重新创建该索引。

  




ERROR 9036 (HY000) : Backup is in progress 
---------------------------------------------------------------

* OceanBase 错误码：9036

  

* 错误原因：一般是执行了和备份互斥的操作。

  

* 解决方式：停止数据备份和日志备份以后再执行该命令。

  




ERROR 9037 (HY000) : log archive status is not valid 
-------------------------------------------------------------------------

* OceanBase 错误码：9037

  

* 错误原因：日志备份的状态非法。

  

* 解决方式：请联系 OceanBase 技术支持人员协助排查。

  




ERROR 9038 (HY000) : Cannot add replica during set member list in restore 
----------------------------------------------------------------------------------------------

* OceanBase 错误码：9038

  

* 错误原因：`set member list` 阶段不支持复制。

  

* 解决方式：恢复的 `set member list` 步骤无法支持副本的复制，如果此时还有多数派副本，那么恢复能够继续下去；如果已经不存在多数派副本了，需要取消恢复然后重新调度恢复任务。

  




ERROR 9039 (HY000) : pg log archive leader changed 
-----------------------------------------------------------------------

* OceanBase 错误码：9039

  

* 错误原因：日志备份的 Leader 已经切换了。

  

* 解决方式：内部错误码。检测到 Leader 切换以后会打断当前 PG 的日志备份流程。新的 Leader 会自动继续制定备份工作，不需要运维介入。

  




ERROR 9040 (HY000) : backup can not start 
--------------------------------------------------------------

* OceanBase 错误码：9040

  

* 错误原因：日志备份不是 `DOING` 状态，不能开启数据备份。

  

* 解决方式：等待日志备份进入 `DOING` 状态，如果长期处于 `BEGINNING` 状态，需要联系 OceanBase 技术支持人员，排查具体原因。

  




ERROR 9041 (HY000) : cancel backup do not allow 
--------------------------------------------------------------------

* OceanBase 错误码：9041

  

* 错误原因：不允许重复取消备份任务。

  

* 解决方式：避免重复取消正在取消中的任务。

  




ERROR 9042 (HY000) : backup data version gap over limit 
----------------------------------------------------------------------------

* OceanBase 错误码：9042

  

* 错误原因：数据备份在超过 16 次数的 `Major Merge` 期间没有完成，会主动失败。

  

* 解决方式：排查数据备份慢的原因或者确认 `Major Merge` 是否过于频繁。

  




ERROR 9044 (HY000) : delete backup data is in progress 
---------------------------------------------------------------------------

* OceanBase 错误码：9044

  

* 错误原因：不允许重复调度清理备份的任务。

  

* 解决方式：避免重复调度清理备份的任务。

  




ERROR 9045 (HY000) : delete backup set do not allow 
------------------------------------------------------------------------

* OceanBase 错误码：9045

  

* 错误原因：不允许删除备份集。

  

* 解决方式：检查是否输入了错误的删除命令。

  




ERROR 9046 (HY000) : backup set id is not valid 
--------------------------------------------------------------------

* OceanBase 错误码：9046

  

* 错误原因：备份集 ID 无效，可能指定了无效的 `backup_set_id`。

  

* 解决方式：检查输入的 `backup_set_id` 是否正确，并进行重试。

  




ERROR 9047 (HY000) : invalid password for backup 
---------------------------------------------------------------------

* OceanBase 错误码：9047

  

* 错误原因：无效的密码。

  

* 解决方式：检查密码是否正确，并进行重试。

  




ERROR 9048 (HY000) : backup set is isolated by two log archive round 
-----------------------------------------------------------------------------------------

* OceanBase 错误码：9048

  

* 错误原因：数据备份和日志备份不连续。

  

* 解决方式：检查日志备份是否已经断流了。

  




ERROR 9049 (HY000) : backup status is stopped, can not cancel 
----------------------------------------------------------------------------------

* OceanBase 错误码：9049

  

* 错误原因：备份已经停止了，不能够被再次取消。

  

* 解决方式：不需要额外处理，备份已经停止了。

  




ERROR 9050 (HY000) : no backup data to be backuped up 
--------------------------------------------------------------------------

* OceanBase 错误码：9050

  

* 错误原因：调度的备份任务没有需要备份的数据。

  

* 解决方法：一般出现在备份的场景，不需要处理。

  




ERROR 9051 (HY000) : backup mount file is not valid 
------------------------------------------------------------------------

* OceanBase 错误码：9051

  

* 错误原因：OBServer 存在没有挂载 NFS 的节点。

  

* 解决方法：需要保证所有节点都挂载 NFS。

  




ERROR 9052 (HY000) : backup clean info not match 
---------------------------------------------------------------------

* OceanBase 错误码：9052

  

* 错误原因：备份清理的元信息不一致。

  

* 解决方法：联系 OceanBase 的技术支持人员协助排查。

  




ERROR 9053 (HY000) : cancel delete backup do not allow 
---------------------------------------------------------------------------

* OceanBase 错误码：9053

  

* 错误原因：没有清理任务的时候发起了 `Cancel`。

  

* 解决方法：避免在没有清理任务的时候发起 `Cancel`。

  




ERROR 9054 (HY000) : backup clean info not exists 
----------------------------------------------------------------------

* OceanBase 错误码：9054

  

* 错误原因：清理的元信息不存在。

  

* 解决方法：联系 OceanBase 的技术支持人员协助排查。

  




ERROR 9057 (HY000) : can not set backup region, because %s 
-------------------------------------------------------------------------------

* OceanBase 错误码：9057

  

* 错误原因：不能修改备份的 Region。

  

* 解决方法：记录错误提示信息，然后联系 OceanBase 技术支持人员协助排查。

  




ERROR 9058 (HY000) : can not set backup zone, because %s 
-----------------------------------------------------------------------------

* OceanBase 错误码：9058

  

* 错误原因：不能修改备份的 Zone。

  

* 解决方法：记录错误提示信息，然后联系 OceanBase 技术支持人员协助排查。

  




ERROR 9059 (HY000) : backup backup has reached max backup times 
------------------------------------------------------------------------------------

* OceanBase 错误码：9059

  

* 错误原因：内部错误码。主要用在内部调度备份进行备份的时候，发现 Backup Set 或者 Backup Piece 都满足最大 Backup Times 要求的场景。

  

* 解决方法：无需处理。

  




ERROR 9062 (HY000) : reach backup backup copy limit 
------------------------------------------------------------------------

* OceanBase 错误码：9062

  

* 错误原因：调度指定 Backup Times 的备份进行备份的时候，发现所有的 Backup Set 和 Backup Piece 都已经满足 Backup Times 的要求，找不到需要备份的备份的 Backup Set 或者 Backup Piece。

  

* 解决方法：无需处理。

  




ERROR 9063 (HY000) : backup io is prohibited 
-----------------------------------------------------------------

* OceanBase 错误码：9063

  

* 错误原因：在 COS 环境下的备份恢复执行 `LIST` 操作被限流。

  

* 解决方法：

  * 如果偶尔出现这个问题，无需处理。

    
  
  * 如果经常出现这个问题，需要联系备份的 COS 客户支持人员，调大或者去掉 `LIST` 操作的频率限制。

    
  

  




ERROR 9064 (HY000) : the archive log and backup data are not continuous 
--------------------------------------------------------------------------------------------

* OceanBase 错误码：9064

  

* 错误原因：日志归档的数据和原备份数据不连续。

  

* 解决方法：重新发起一次数据备份。

  




ERROR 9069 (HY000) : deleting backup piece is not allowed 
------------------------------------------------------------------------------

* OceanBase 错误码：9069

  

* 错误原因：不允许删除备份日志分片。

  

* 解决方式：检查是否输入了错误的删除命令。

  




ERROR 9100 (HY000) : no such file or directory 
-------------------------------------------------------------------

* OceanBase 错误码：9100

  

* 错误原因：存储层找不到对应的目录或者文件，可能是配置的存储目录有问题。

  

* 解决方式：联系 OceanBase 的技术支持人员协助排查。

  




ERROR 9101 (HY000) : file or directory already exist 
-------------------------------------------------------------------------

* OceanBase 错误码：9101

  

* 错误原因：对应的文件或者目录已经存在。

  

* 解决方式：内部错误码。可能为内部 Bug，可以提供报错的文件名给 OceanBase 技术支持人员，以方便做问题排查。

  



