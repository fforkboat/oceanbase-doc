# 字段设计

开发者在进行字段设计时，主要需要考虑字段的类型，字段的长度。本文给出几个场景字符类型的推荐值，旨在帮助开发者规范字段设计。

## MySQL 模式

* 数值型字段

  * 推荐使用 `bigint` 类型替代 `int`、`smallint` 等整型类型，防止以后范围超限。

* 字符型字段

  * 所有动态字符串建议全部使用 `VARCHAR(N)` 类型。示例：业务中 IP 地址字段推荐使用 `varchar(32)`。

  * 仅仅只有单字符的字段使用 `CHAR(1)`。表达是与否概念的字段，建议使用 `CHAR(1)` 类型以节省空间（1 代表 TRUE，0 代表 FALSE），值的内容要统一，所有应用值要统一，例如：表达逻辑删除的字段名 `is_deleted`，1 表示删除，0 表示未删除。

    >**注意**
    >
    >NUMBER(1) 也可以表达是与否的概念，但占用的空间更大些。

  * 列的类型禁止使用 `NVARCHAR`、`NCLOB` 等类型。

    >**注意**
    >
    >字符数据类型的列可以存储所有字母数字值，但是 `NUMBER` 数据类型的列只能存储数字值。

* 日期时间字段

  * 有时间精度要求的业务，可以使用 `datetime(6)`。

  * 对精度没要求的，设置为 `datetime` 即可。

  * 如果将来有国际化需求，建议使用 `timestamp`。

  * 不推荐使用字符作为时间字段的数据类型，在使用的时候容易造成隐式类型转换

* 数据字段的选择推荐

  * 特别是在大表上(百万级)，推荐如下使用方法：

    * 业务内各表时间字段务必统一，推荐使用 `DATE` 类型，对于精度较高的业务可以使用 `TIMESTAMP` 类型。

    * IP 所在表如果是大表，推荐使用 `NUMBER` 数值类型存储，可节省存储空间。前端进行转换。使用数值范围大小跟网段数据保持一致。

    * 根据业务需要，IPv4 和 IPv6 也可以分字段存储，采用 `VARCHAR(N)` 存储。
