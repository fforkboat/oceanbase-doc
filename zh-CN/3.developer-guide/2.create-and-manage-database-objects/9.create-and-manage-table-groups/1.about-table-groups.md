# 关于表组

本文为您介绍 OceanBase 数据库的 MySQL 模式下的表组及其创建示例。

## 什么是表组

表组是一个逻辑概念，它描述的是 Table 的一个集合。属于该集合的所有 Table，均需要满足如下约束，即集合中的所有 Table 必须拥有相同的 Locality（包括副本类型、个数及位置）、相同的 Primary Zone（包括 Leader 位置及其优先级）和相同的分区方式。属于同一个 Table Group 的 Table，每个 Table 都拥有相同数量的分区（Partition）。

表组是表的属性，会影响多个表的分区在 OceanBase 机器上的分布特征。

不同表的分区有可能分布在不同的节点上，当两个表做表连接查询时，OceanBase 会跨节点请求数据，执行时间就跟节点间请求延时有关。在 SQL 调优时，OceanBase 建议对业务上关系密切的表，设置相同的表组。

创建表组时，首先要规划好表组的用途。如果是用于普通表的属性，表组就不用分区；如果是用于分区表的属性，表组就要指定分区策略，并且要跟分区表的分区策略保持一致。

## 表组的作用

* 如果多个表的分区方式完全相同（分区类型、分区键个数、分区数量等） ，可以在逻辑上将这些表归属到同一个 Table Group 中，以影响动态负载均衡的策略。

* 对同一个 Table Group 中的所有表而言，分区键值相同的所有分区为一个分区组。在同一个分区组的所有分区的 leader 会尽可能调度在一起，在不影响全局负载均衡的前提下，可有效减少分布式事务引入的跨机访问开销。

* 修改表组的 Primary Zone 及 Locality，即同步修改了表组内所有表的 Primary Zone 及 Locality。

* 动态创建和删除，并且对上层应用完全透明。

* 如果租户的 unit_num=1 且 Primary Zone 只有一个 Zone，不需要 Table Group。
