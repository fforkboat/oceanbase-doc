# 容灾部署方案
#docslug#/oceanbase-database/oceanbase-database/V4.0.0/disaster-recovery-deployment-plan
OceanBase 数据库提供多种部署模式，可根据对机房配置以及性能和可用性的需求进行灵活选择。

|   部署方案   |       容灾能力        |  RTO  | RPO  |
|----------|-------------------|-------|------|
| 同机房三副本   | 机器级无损容灾 / 机架级无损容灾 | 8s 内 | 0    |
| 同城三机房    | 机房级无损容灾           | 8s 内 | 0    |
| 三地三中心五副本 | 地域级无损容灾           | 8s内  | 0    |

为了达到不同级别的容灾能力，社区版 OceanBase 数据库提供了多副本高可用解决方案。多副本高可用解决方案基于 Paxos 协议实现，在少数派副本不可用情况下，能够自动恢复服务，并且不丢数据，始终保证 RTO 在 8 秒内，RPO 为 0。

## 同机房三副本

如果只有一个机房，可以部署三副本或更多副本，来达到机器级无损容灾。当单台 server 或少数派 server 宕机情况下，不影响业务服务，不丢数据。如果一个机房内有多个机架，可以为每个机架部署一个 Zone，从而达到机架级无损容灾。

## 同城三机房

如果同城具备三机房条件，可以为每个机房部署一个 Zone，从而达到机房级无损容灾能力。任何一个机房不可用时，可以利用剩下的两个机房继续提供服务，不丢失数据。

## 三地三中心五副本

为了支持地区级无损容灾，通过 Paxos 协议的原理可以证明，至少需要 3 个地区。OceanBase 数据库采用的是两地三中心的变种方案：三地三中心五副本。该方案包含三个城市，每个城市一个机房，前两个城市的机房各有两个副本，第三个城市的机房只有一个副本。和两地三中心的不同点在于，每次执行事务至少需要同步到两个城市，需要业务容忍异地复制的延时。

## 三地五中心五副本

和三地三中心五副本类似，不同点在于，三地五中心会把每个副本部署到不同的机房，进一步强化机房容灾能力。
