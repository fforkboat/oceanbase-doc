# ls_gc_delay_time

`ls_gc_delay_time` 用于配置物理备库场景下，主租户日志流延迟删除的时间。

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该配置项从 V4.2.0 版本开始引入。</p>
</main>

| **属性** | **描述** |
| --- | --- |
| 参数类型 | TIME |
| 默认值 | 默认值为 1h，如果设置为 0s，则表示日志流延迟删除机制不再生效 |
| 取值范围 | [0s,+∞) |
| 是否重启 OBServer 节点生效 | 否 |

配置项使用说明：

* 对于物理备库场景：

  * 如果源端的主租户未开启日志归档，同时配置项 `ls_gc_delay_time` 的默认值为 1h，则日志延迟删除机制生效，且日志流延迟删除的时间为 1 小时。

  * 如果源端的主租户开启了日志归档，由于日志归档保证了日志流数据的完整性，因此日志流的 GC(Garbage Collection) 不会受该配置项的影响。即，该场景下，无论配置项 `ls_gc_delay_time` 的值为多少，日志延迟删除机制都不会生效。

* 对于删除租户的场景，无论配置项 `ls_gc_delay_time` 的值为多少，日志流延迟删除机制不生效。

**示例**

* 在主租户所在集群的 `sys` 租户下设置主租户日志流的延迟删除时间

  ```sql
  ALTER SYSTEM SET ls_gc_delay_time='7200s' TENANT = 'mysql_tenant';
  ```

* 主租户设置本租户日志流的延迟删除时间

  ```sql
  ALTER SYSTEM SET ls_gc_delay_time='7200s';
  ```
